<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Modular Workflow with Require.js</title>
    <!-- build:css styles/styles.css-->
    <link rel="stylesheet" type="text/css" href="bower_components/prism/themes/prism-tomorrow.css">
    <link rel="stylesheet" type="text/css" href="styles/main.css">
    <!-- endbuild-->
  </head>
  <body>
    <article>
      <section>
        <h1>RequireJS</h1>
        <h3>A JavaScript Module Loader</h3>
        <h5>Greg Franko</h5>
        <hr>
        <hr>
        <h6>1/30/2014</h6>
      </section>
      <section>
        <h2>Why Do People Use RequireJS?</h2>
      </section>
      <section>
        <h2><a href="http://requirejs.org/docs/why.html" target="_blank">Performance</a></h2>
        <h4>Asynchronous and Dynamic Loading</h4>
      </section>
      <section>
        <h2><a href="http://requirejs.org/docs/whyamd.html" target="_blank">Maintainability</a></h2>
        <h4>Decoupled Code into Modules</h4>
      </section>
      <section>
        <h2><a href="http://requirejs.org/docs/optimization.html" target="_blank">Workflow</a></h2>
        <h4>No Build Step Required</h4>
      </section>
      <section>
        <h2>What Projects/Companies Use RequireJS?</h2>
      </section>
      <section>
        <h2><a href="https://github.com/jquery/jquery/blob/master/build/tasks/build.js#L11" target="_blank">jQuery</a></h2>
        <h4>Used in Development, Removed In Production</h4>
      </section>
      <section>
        <h2><a href="http://backstage.soundcloud.com/2012/06/building-the-next-soundcloud/" target="_blank">SoundCloud</a></h2>
        <h4>RequireJS in Development, AlmondJS In Production</h4>
      </section>
      <section>
        <h2><a href="http://www.nearform.com/nodecrunch/release-the-kracken-how-paypal-is-being-revolutionized-by-node-js-and-lean-ux#.UuiYw2Qo7-Y" target="_blank">PayPal</a></h2>
        <h4>Used In Both Development and Production</h4>
      </section>
      <section>
        <h2><a href="http://www.bbc.co.uk/frameworks/requirejs" target="_blank">BBC News</a></h2>
        <h4>Used In Both Development and Production</h4>
      </section>
      <section>
        <h2><a href="https://www.addthis.com/get/smart-layers" target="_blank">AddThis</a></h2>
        <h4>RequireJS in Development, AMDCleanJS In Production </h4>
      </section>
      <section>
        <h2>Are You Using RequireJS?</h2>
        <h4>It's Okay If You Aren't</h4>
      </section>
      <section>
        <h2>RequireJS Basics</h2>
        <h3>Let's Learn</h3>
      </section>
      <section>
        <h2>Most Projects Start Like This:</h2>
        <h3>JavaScript files are included as HTML script tags</h3>
        <hr>
        <pre><code class="language-markup">&lt;body&gt;
&lt;script src='jquery.js'&gt;&lt;/script&gt;
&lt;script src='jquery-ui.js'&gt;&lt;/script&gt;
&lt;script src='jquery.selectboxit.js'&gt;&lt;/script&gt;
&lt;script src='lodash.js'&gt;&lt;/script&gt;
&lt;script src='backbone.js'&gt;&lt;/script&gt;
&lt;script src='init.js'&gt;&lt;/script&gt;
&lt;script src='app.js'&gt;&lt;/script&gt;
&lt;/body&gt;</code></pre>
      </section>
      <section>
        <h1>This Is Fine...</h1>
        <ul>
          <li></li>
          <li>
            <h3>If you don't have many dependencies</h3>
          </li>
          <li>
            <h3>If you do not care about page load performance</h3>
          </li>
          <li>
            <h3>If you don't like decoupled code</h3>
          </li>
        </ul>
      </section>
      <section>
        <h1>This Is Better:</h1>
        <h3>Only Require.js is included as an HTML script tag</h3>
        <hr>
        <pre><code class="language-markup">&lt;body&gt;
&lt;script src='require.js' data-main='init'&gt;&lt;/script&gt;
&lt;/body&gt;</code></pre>
        <hr>
        <h3><code>data-main</code> - Tells Require.js what file to load first</h3>
      </section>
      <section>
        <h1>Huh?</h1>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>How Are My Files Getting Loaded?</h3>
          </li>
          <li>
            <h3>Do I have to Use the <code>data-main</code> Attribute?</h3>
          </li>
        </ul>
      </section>
      <section>
        <h1>Oh!</h1>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>Require.js is now loading all of your JavaScript files</h3>
          </li>
          <li>
            <h3>The <code>data-main</code> attribute is optional</h3>
          </li>
        </ul>
      </section>
      <section>
        <h1>Is That It?</h1>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>Unfortunately, No</h3>
          </li>
          <li>
            <h3>Your JavaScript Files Must Be Written In A Format RequireJS Understands</h3>
          </li>
        </ul>
      </section>
      <section>
        <h1>What Format?</h1>
        <hr>
        <ul>
          <li></li>
          <li>
            <h2><a href="https://github.com/amdjs/amdjs-api/wiki/AMD" target="_blank">AMD</a></h2>
            <h3>Asynchronous Module Definition</h3>
          </li>
        </ul>
      </section>
      <section>
        <h1>AMD</h1>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>Module Format Used By RequireJS</h3>
          </li>
          <li>
            <h3>Exposes Two Global Methods:</h3>
            <h3><a href="https://github.com/amdjs/amdjs-api/wiki/AMD#define-function-" target="_blank">define()</a></h3>
            <h3><a href="https://github.com/amdjs/amdjs-api/wiki/require" target="_blank">require()</a></h3>
          </li>
        </ul>
      </section>
      <section>
        <h1><a href="https://github.com/amdjs/amdjs-api/wiki/AMD#define-function-" target="_blank">define()</a></h1>
        <ul>
          <li></li>
          <li>
            <h3>Communicates a File's Dependencies and Return Value</h3>
          </li>
          <li>
            <pre><code class="language-javascript">// example.js
// Does not depend on any files and returns a string
define(function() {
  return 'No dependencies, returns a string';
});
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h1>If <a href="https://github.com/amdjs/amdjs-api/wiki/AMD#define-function-" target="_blank">define</a>
          <d>Is Confusing...</d>
        </h1>
        <ul>
          <li></li>
          <li>
            <h3>Let's See How It Would Look In Plain JavaScript</h3>
          </li>
          <li>
            <pre><code class="language-javascript">var example = function() {
  return 'No dependencies, returns a string';
}();
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h1><a href="https://github.com/amdjs/amdjs-api/wiki/AMD#define-function-" target="_blank">define()</a></h1>
        <ul>
          <li>
            <h3>Let's Look At A Slightly More Complicated Example</h3>
          </li>
          <li>
            <pre><code class="language-javascript">// getUser.js
// Depends on a file (users.js), and returns a getUser function
define(['./users']function(users) {
  return function getUser(username) {
    return users[username];
  };
});
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h1>If <a href="https://github.com/amdjs/amdjs-api/wiki/AMD#define-function-" target="_blank">define</a>
          <d>Is Still Confusing...</d>
        </h1>
        <ul>
          <li></li>
          <li>
            <h3>Let's See How It Would Look In Plain JavaScript</h3>
          </li>
          <li>
            <pre><code class="language-javascript">var getUser = function(users) {
  return function getUser(username) {
    return users[username];
  };
}(usersCollection);
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h1>Is That It?</h1>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>Nope, There Are Many More Ways To Define an AMD Module</h3>
          </li>
          <li>
            <h3>Check Out More <a href="http://requirejs.org/docs/api.html#define" target="_blank">Module Definitions</a></h3>
          </li>
        </ul>
      </section>
      <section>
        <h1><a href="https://github.com/amdjs/amdjs-api/wiki/require" target="_blank">require()</a></h1>
        <ul>
          <li></li>
          <li>
            <h3>Loads One Or More AMD Modules</h3>
          </li>
          <li>
            <pre><code class="language-javascript">// Loads the example.js module from our first define() example
require(['./example.js'], function(exampleText) {
  // Prints: 'example.js return value: No dependencies, returns a string'
  console.log('example.js return value: ', exampleText);
})</code></pre>
          </li>
          <li>
            <h3>That's All There Is To The <code>require()</code> Method</h3>
          </li>
        </ul>
      </section>
      <section>
        <h1>If <a href="https://github.com/amdjs/amdjs-api/wiki/require" target="_blank">require</a>
          <d>Is Confusing...</d>
        </h1>
        <ul>
          <li></li>
          <li>
            <h3>Let's See How It Would Look In Plain JavaScript</h3>
          </li>
          <li>
            <pre><code class="language-javascript">(function(exampleText) {
  // Prints: 'example.js return value: No dependencies, returns a string'
  console.log('example.js return value: ', exampleText);
}(example));
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h1>Now What?</h1>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>Now That You Understand AMD Modules...</h3>
          </li>
          <li>
            <h3>Let Me Answer Your Question With A Question</h3>
          </li>
          <li>
            <h3><strong>Have You Ever Used JavaScript Code That You Didn't Write?</strong></h3>
          </li>
        </ul>
      </section>
      <section>
        <h1>Third Party Libraries</h1>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3><strong>Cannot</strong> Assume AMD Is Being Used</h3>
          </li>
          <li>
            <h3><strong>Can</strong> Still Provide Conditional Support</h3>
          </li>
        </ul>
      </section>
      <section>
        <h2>How Would A Third Party Library Provide AMD Support?</h2>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>By Conditionally Wrapping Itself in a <code>define</code> method</h3>
            <pre><code class="language-javascript">// If an AMD compatible loader is on the page
if ( typeof define === "function" && define.amd ) {
    define([], function() {
        return exampleLib;
    });
}
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h1>Third Party Examples</h1>
      </section>
      <section>
        <h1>jQuery</h1>
        <hr>
        <h3>Provides AMD Support</h3>
        <ul>
          <li>
            <pre><code class="language-javascript">// jQuery Source
if ( typeof define === "function" && define.amd ) {
    define( "jquery", [], function() {
        return jQuery;
    });
}
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h1>Lodash</h1>
        <hr>
        <h3>Provides AMD Support</h3>
        <ul>
          <li>
            <pre><code class="language-javascript">// Lodash Source
if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
  root._ = _;
  
  define(function() {
    return _;
  });
}
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h1>Backbone</h1>
        <hr>
        <h3>Does <strong>Not</strong> Provide AMD Support <a href="https://github.com/jashkenas/backbone/commit/ab5d2eb4c657ed81e80ac815f687e94a2cb55fef" target="_blank">yet</a></h3>
        <ul>
          <li>
            <pre><code class="language-javascript">// Backbone Source
var Backbone;
if (typeof exports !== 'undefined') {
  Backbone = exports;
} else {
  Backbone = root.Backbone = {};
}
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h2>How Do You Use Scripts That Are Not AMD Compatible?</h2>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>Use the RequireJS <a href="http://requirejs.org/docs/api.html#config-shim" target="_blank">Shim Configuration</a></h3>
          </li>
        </ul>
      </section>
      <section>
        <h2><a href="http://requirejs.org/docs/api.html#config-shim" target="_blank">Shim Configuration</a></h2>
        <hr>
        <h3>Useful for libraries that export a global variable</h3>
        <pre><code class="language-javascript">requirejs.config({
  shim: {
    'backbone': {
        deps: ['underscore', 'jquery'],
        exports: 'Backbone'
    }
  }
});
</code></pre>
      </section>
      <section>
        <h2>Is This Black Magic?</h2>
        <hr>
        <ul>
          <li></li>
          <li>
            <h3>No, RequireJS just creates a <code>define</code> wrapper for all shimmed libraries</h3>
          </li>
          <li>
            <pre><code class="language-javascript">define("backbone", ["underscore","jquery"], (function (global) {
    return function () {
        var ret, fn;
        return ret || global.Backbone;
    };
}(this)));
</code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h2><a href="http://requirejs.org/docs/api.html#config-shim" target="_blank">Shim Configuration</a></h2>
        <hr>
        <h3>Also Useful for Declaring Dependencies</h3>
        <pre><code class="language-javascript">requirejs.config({
  shim: {
    'jquery.ui.widget': ['jquery'],
    
    'jquery.selectBoxIt': ['jquery.ui.widget']
  }
});

</code></pre>
      </section>
    </article>
    <!-- build:js scripts/scripts.js-->
    <script src="bower_components/bespoke.js/dist/bespoke.min.js"></script>
    <script src="bower_components/bespoke-keys/dist/bespoke-keys.min.js"></script>
    <script src="bower_components/bespoke-touch/dist/bespoke-touch.min.js"></script>
    <script src="bower_components/bespoke-bullets/dist/bespoke-bullets.min.js"></script>
    <script src="bower_components/bespoke-scale/dist/bespoke-scale.min.js"></script>
    <script src="bower_components/bespoke-hash/dist/bespoke-hash.min.js"></script>
    <script src="bower_components/bespoke-progress/dist/bespoke-progress.min.js"></script>
    <script src="bower_components/bespoke-state/dist/bespoke-state.min.js"></script>
    <script src="bower_components/bespoke-forms/dist/bespoke-forms.min.js"></script>
    <script src="bower_components/prism/prism.js"></script>
    <script src="scripts/main.js"></script>
    <!-- endbuild-->
  </body>
</html>